<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>计算器</title>
		<style>
			*{
				margin: 0px;
				padding: 0px;
			}
			table{
				width:500px;
				height:500px;
				border: 1px solid black;
				background-color: #999999;
				cellspacing:0px;
			}
			.numberkey{
				cursor: pointer;
				width:40px;
				height: 30px;
				border: 1px solid #FFFFFF;
				background: #999999;
				color: #FFFFFF;
				text-align: center;
				font-weight: bold;
				font-family: "微软雅黑";
			}
			.numberkey:hover{
				background: #008000;
			}
		</style>
	</head>
	<body>
		
		<table align="center">
			<tr>
				<td colspan="5" id="inputBox"></td>
			</tr>
			<tr>
				<td onclick="addNum()">1</td>
				<td onclick="addNum()">2</td>
				<td onclick="addNum()">3</td>
				<td onclick="addNum()">+</td>
				<td onclick="cancel()">C</td>
			</tr>
			<tr>
				<td onclick="addNum()">4</td>
				<td onclick="addNum()">5</td>
				<td onclick="addNum()">6</td>
				<td onclick="addNum()">-</td>
				<td rowspan="3" onclick="result()">=</td>
			</tr>
			<tr onclick="addNum()">
				<td>7</td>
				<td>8</td>
				<td>9</td>
				<td>*</td>
			</tr>
			<tr onclick="addNum()">
				<td>00</td>
				<td>0</td>
				<td>.</td>
				<td>/</td>
			</tr>
		</table>
	</body>
	<script>
		var tableEles = document.getElementsByTagName("table")[0].childNodes;
		var trEles = tableEles[1].childNodes;  // tbody
		for (var i = 0; i < trEles.length; i++){
			var tdEles = trEles[i].childNodes;
			for (var j = 0; j < tdEles.length; j++){
				tdEles[j].className = "numberkey";
			}
		}
		var value = "";
		var ele = document.getElementById("inputBox");
		function addNum(){
			// 累加每次点击的按钮
			value = value + event.srcElement.innerText;
			ele.innerText = value;
		}
		function cancel(){
			// 清空输入输出框
			value = "";
			ele.innerText = value;
		}
		function result(e){
			// 显示结果，并重置value的值
			if (value == ""){
				ele.innerText = value;
			} else {
				try {
					ele.innerText = eval(value);
				} catch{
					ele.innerText = "语法错误";
				} finally {
					value = "";
				}
			}
		}
	</script>
</html>
